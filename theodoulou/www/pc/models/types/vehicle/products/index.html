{% extends "theodoulou/templates/pages/vehicles.html" %}

{% block left_content %}
<input type="hidden" id="node_name" value="{{ active_node.NAME }}">
<input type="hidden" id="node_id" value="{{ active_node.ID }}">
{% if products|length == 0 %}
<div class="alert alert-warning" role="alert">
    {{ _("No products found") }}
</div>
{% else %}
<div class="row">
    {% for item in products %}
    <div class="col-sm-12 col-md-4 col-lg-3 mb-4">
        <!--
                <img src="{{ item.PATH }}" class="rounded mx-auto d-block" style="max-height: 200px;">
                -->
        <div class="card-body text-center shadow rounded">
            <h5 class="card-title">{{ item.NAMEPRODUCT }}</h5>
            <p class="card-text">{{ item.MARKE }}</p>
            <a href="#" class="btn btn-primary">{{ item.ARTNR }}</a>
        </div>
    </div>
    {% endfor %}
</div>
<nav aria-label="Page navigation">
    <ul class="pagination">
        <!-- Link to the first page -->
        <li class="page-item {% if page == 1 %}disabled{% endif %}">
            <a class="page-link" href="/pc/models/types/vehicle/products?node_id={{ node_id }}&page=1" aria-label="First">
                <span aria-hidden="true">&laquo;&laquo;</span>
            </a>
        </li>

        <!-- Link to the previous page -->
        <li class="page-item {% if page == 1 %}disabled{% endif %}">
            <a class="page-link" href="/pc/models/types/vehicle/products?node_id={{ node_id }}&page={{ page - 1 }}" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>

        <!-- If there are pages before the ones currently shown -->
        {% if page - 2 > 1 %}
        <li class="page-item disabled">
            <a class="page-link">...</a>
        </li>
        {% endif %}

        <!-- Links to the 5 pages around the current page -->
        {% for i in range(max(1, page - 2), min(last_page, page + 2) + 1) %}
            <li class="page-item {% if i == page %}active{% endif %}">
                <a class="page-link" href="/pc/models/types/vehicle/products?node_id={{ node_id }}&page={{ i }}">{{ i }}</a>
            </li>
        {% endfor %}

        <!-- If there are pages after the ones currently shown -->
        {% if page + 2 < last_page %}
        <li class="page-item disabled">
            <a class="page-link">...</a>
        </li>
        {% endif %}

        <!-- Link to the next page -->
        <li class="page-item {% if page == last_page %}disabled{% endif %}">
            <a class="page-link" href="/pc/models/types/vehicle/products?node_id={{ node_id }}&page={{ page + 1 }}" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>

        <!-- Link to the last page -->
        <li class="page-item {% if page == last_page %}disabled{% endif %}">
            <a class="page-link" href="/pc/models/types/vehicle/products?node_id={{ node_id }}&page={{ last_page }}" aria-label="Last">
                <span aria-hidden="true">&raquo;&raquo;</span>
            </a>
        </li>
    </ul>
</nav>
{% endif %}
{% endblock %}