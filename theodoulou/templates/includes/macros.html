{% macro render_node(node) %}
<ul class="tree">
    {% for name, data in node.items() %}
    <li>
        {% if data.children %}
        <span class="caret">{{ name }}</span>
        {% else %}
        <a href="/pc/models/types/vehicle/products?node_id={{ data.id }}">{{ name }}</a>
        {% endif %}
        {% if data.children %}
        {{ render_node(data.children) }}
        {% endif %}
    </li>
    {% endfor %}
</ul>
{% endmacro %}
