{% macro render_node(node) %}
<ul class="tree">
    {% for name, data in node.items() %}
    <li>
        {% if data.children %}
        <span class="caret">{{ name }}</span>
        {% else %}
        <a href="/pc/models/types/vehicle/products?node_id={{ data.id }}">{{ name }}</a>
        {% endif %}
        {% if data.children %}
        {{ render_node(data.children) }}
        {% endif %}
    </li>
    {% endfor %}
</ul>
{% endmacro %}

{% macro active_vehicle(categories_tree) %}
<div class="col" id="vehicleActiveSelectionContainer" style="display: none;">
    <div class="border rounded mb-1 p-1">
        <p class="h6">{{ _("Current Selection") }}</p>
        <small id="vehicleActiveSelectionName">
            <button type=" button" class="btn btn-danger btn-sm float-right" id="vehicleActiveSelectionClear"
                title="Delete">
                x
            </button>
            <a href="#" class="text-success" id="vehicleActiveSelectionNameTitle"></a>
        </small>
    </div>
    <div class="border rounded p-1">
        {{ render_node(categories_tree) }}
    </div>
</div>
{% endmacro %}